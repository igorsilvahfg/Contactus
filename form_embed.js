(()=>{function le(){"use strict";function e(o,m,g){"addEventListener"in window?o.addEventListener(m,g,!1):"attachEvent"in window&&o.attachEvent("on"+m,g)}function i(){var o,m=["moz","webkit","o","ms"];for(o=0;o<m.length&&!E;o+=1)E=window[m[o]+"RequestAnimationFrame"];E||n(" RequestAnimationFrame not supported")}function t(){var o="Host page";return window.top!==window.self&&(o=window.parentIFrame?window.parentIFrame.getId():"Nested host page"),o}function a(o){return U+"["+t()+"]"+o}function n(o){d.log&&typeof window.console=="object"&&console.log(a(o))}function s(o){typeof window.console=="object"&&console.warn(a(o))}function u(o){function m(){function f(){l(w),p(),d.resizedCallback(w)}O("Height"),O("Width"),k(f,w,"resetPage")}function g(f){var v=f.id;n(" Removing iFrame: "+v),f.parentNode.removeChild(f),d.closedCallback(v),n(" --")}function x(){var f=H.substr(M).split(":");return{iframe:document.getElementById(f[0]),id:f[0],height:f[1],width:f[2],type:f[3]}}function O(f){var v=Number(d["max"+f]),N=Number(d["min"+f]),z=f.toLowerCase(),S=Number(w[z]);if(N>v)throw new Error("Value for min"+f+" can not be greater than max"+f);n(" Checking "+z+" is in range "+N+"-"+v),N>S&&(S=N,n(" Set "+z+" to min value")),S>v&&(S=v,n(" Set "+z+" to max value")),w[z]=""+S}function B(){var f=w.iframe.src;!f&&w.iframe.getAttribute("data-src")&&(f=w.iframe.getAttribute("data-src"));var v=o.origin,N=f.split("/").slice(0,3).join("/");if(d.checkOrigin&&(n(" Checking connection is from: "+N),""+v!="null"&&v!==N))throw new Error("Unexpected message received from: "+v+" for "+w.iframe.id+". Message was: "+o.data+". This error can be disabled by adding the checkOrigin: false option.");return!0}function $(){return U===(""+H).substr(0,M)}function Y(){var f=w.type in{true:1,false:1};return f&&n(" Ignoring init message from meta parent page"),f}function I(f){return H.substr(H.indexOf(":")+ie+f)}function T(f){n(" MessageCallback passed: {iframe: "+w.iframe.id+", message: "+f+"}"),d.messageCallback({iframe:w.iframe,message:JSON.parse(f)}),n(" --")}function ge(){if(w.iframe===null)throw new Error("iFrame ("+w.id+") does not exist on "+_);return!0}function oe(f){var v=f.getBoundingClientRect();return r(),{x:parseInt(v.left,10)+parseInt(h.x,10),y:parseInt(v.top,10)+parseInt(h.y,10)}}function de(f){function v(){h=S,se(),n(" --")}function N(){return{x:Number(w.width)+z.x,y:Number(w.height)+z.y}}var z=f?oe(w.iframe):{x:0,y:0},S=N();n(" Reposition requested from iFrame (offset x:"+z.x+" y:"+z.y+")"),window.top!==window.self?window.parentIFrame?f?parentIFrame.scrollToOffset(S.x,S.y):parentIFrame.scrollTo(w.width,w.height):s(" Unable to scroll to requested position, window.parentIFrame not found"):v()}function se(){d.scrollCallback(h)!==!1&&p()}function he(f){function v(we){var G=oe(we);n(" Moving to in page link (#"+N+") at x: "+G.x+" y: "+G.y),h={x:G.x,y:G.y},se(),n(" --")}var N=f.split("#")[1]||"",z=decodeURIComponent(N),S=document.getElementById(z)||document.getElementsByName(z)[0];window.top!==window.self?window.parentIFrame?parentIFrame.moveToAnchor(N):n(" In page link #"+N+" not found and window.parentIFrame not found"):S?v(S):n(" In page link #"+N+" not found")}function ye(){switch(w.type){case"close":g(w.iframe),d.resizedCallback(w);break;case"message":T(I(6));break;case"scrollTo":de(!1);break;case"scrollToOffset":de(!0);break;case"inPageLink":he(I(9));break;case"reset":c(w);break;case"init":m(),d.initCallback(w.iframe);break;default:m()}}var H=o.data,w={};$()&&(n(" Received: "+H),w=x(),!Y()&&ge()&&B()&&(ye(),D=!1))}function r(){h===null&&(h={x:window.pageXOffset!==void 0?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:document.documentElement.scrollTop},n(" Get page position: "+h.x+","+h.y))}function p(){h!==null&&(window.scrollTo(h.x,h.y),n(" Set page position: "+h.x+","+h.y),h=null)}function c(o){function m(){l(o),A("reset","reset",o.iframe)}n(" Size reset requested by "+(o.type==="init"?"host page":"iFrame")),r(),k(m,o,"init")}function l(o){function m(g){o.iframe.style[g]=o[g]+"px",n(" IFrame ("+o.iframe.id+") "+g+" set to "+o[g]+"px")}d.sizeHeight&&m("height"),d.sizeWidth&&m("width")}function k(o,m,g){g!==m.type&&E?(n(" Requesting animation frame"),E(o)):o()}function A(o,m,g){n("["+o+"] Sending msg to iframe ("+m+")"),g.contentWindow.postMessage(U+m,"*")}function R(){function o(){function I(T){1/0!==d[T]&&d[T]!==0&&($.style[T]=d[T]+"px",n(" Set "+T+" = "+d[T]+"px"))}I("maxHeight"),I("minHeight"),I("maxWidth"),I("minWidth")}function m(I){return I===""&&($.id=I="iFrameResizer"+ee++,n(" Added missing iframe ID: "+I+" ("+$.src+")")),I}function g(){n(" IFrame scrolling "+(d.scrolling?"enabled":"disabled")+" for "+Y),$.style.overflow=d.scrolling===!1?"hidden":"auto",$.scrolling=d.scrolling===!1?"no":"yes"}function x(){(typeof d.bodyMargin=="number"||d.bodyMargin==="0")&&(d.bodyMarginV1=d.bodyMargin,d.bodyMargin=""+d.bodyMargin+"px")}function O(){return Y+":"+d.bodyMarginV1+":"+d.sizeWidth+":"+d.log+":"+d.interval+":"+d.enablePublicMethods+":"+d.autoResize+":"+d.bodyMargin+":"+d.heightCalculationMethod+":"+d.bodyBackground+":"+d.bodyPadding+":"+d.tolerance}function B(I){e($,"load",function(){var T=D;A("iFrame.onload",I,$),!T&&d.heightCalculationMethod in Q&&c({iframe:$,height:0,width:0,type:"init"})}),A("init",I,$)}var $=this,Y=m($.id);g(),o(),x(),B(O())}function Z(o){if(typeof o!="object")throw new TypeError("Options is not an object.")}function W(o){o=o||{},Z(o);for(var m in y)y.hasOwnProperty(m)&&(d[m]=o.hasOwnProperty(m)?o[m]:y[m])}function q(){function o(m){if(!m.tagName)throw new TypeError("Object is not a valid DOM element");if(m.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+m.tagName+">.");R.call(m)}return function(m,g){switch(W(m),typeof g){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(g||"iframe"),o);break;case"object":o(g);break;default:throw new TypeError("Unexpected data type ("+typeof g+").")}}}function ae(o){o.fn.iFrameResize=function(m){return W(m),this.filter("iframe").each(R).end()}}var ee=0,D=!0,te="message",ie=te.length,U="[iFrameSizer]",M=U.length,_="",h=null,E=window.requestAnimationFrame,Q={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},d={},y={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){},scrollCallback:function(){return!0}};i(),e(window,"message",u),window.jQuery&&ae(jQuery),typeof define=="function"&&define.amd?define([],q):typeof exports=="object"?module.exports=q():window.iFrameResize=q()}le();function ne(){"use strict";var e={createWidget:function(){iFrameResize({log:!1,enablePublicMethods:!0,resizedCallback:function(i){for(var t=document.getElementsByClassName("containerModal"),a=0;a<t.length;a++)t[a].getElementsByTagName("iframe").length>0&&(t[a].style.position="absolute")}})}};window.onload=function(){e.createWidget()},e.createWidget()}ne();var be=e=>{let{shadow:i}=e;return`${i?.horizontal}px ${i?.vertical}px ${i?.blur}px ${i?.spread}px #${i?.color}`};function J(e){try{return decodeURIComponent(e)}catch{}}function xe(e){for(var i=e.split("&"),t={},a=0;a<i.length;a++){var n=i[a].split("="),s=J(n[0]),u=J(n[1]);if(typeof t[s]>"u")t[s]=J(u);else if(typeof t[s]=="string"){var r=[t[s],J(u)];t[s]=r}else t[s].push(J(u))}return t}var K=document.getElementsByTagName("iframe"),ce=[];for(let e=0;e<K.length;e++)K[e].id&&!ce.includes(K[e].id)&&ce.push(K[e].id);function ve(e){try{let i=window[e],t="__storage_test__";return i.setItem(t,t),i.removeItem(t),!0}catch{return!1}}function Ie(e){if(!ve("localStorage"))return;let i=localStorage.getItem(e);if(!i)return null;let t=JSON.parse(i);return new Date().getTime()>t.expiry?(localStorage.removeItem(e),null):t.value}if(!document.getElementById("embeddedIframes")){let e=i=>{let t=document.createElement("style");return t.type="text/css",t.innerText=i,t.id="embeddedIframes",document.head.appendChild(t),t};me=".ep-header,.ep-iFrameContainer,.ep-overlay{display:none}.ep-iFrame{border:none}.ep-iFrameLarge{height:500px;overflow:auto}.ep-overflow{overflow:unset}.ep-overlay{z-index:10000;position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.5);transition:opacity .2s;width:100%;justify-content:center;align-items:center}.ep-wrapper{width:100%}.ep-header{justify-content:flex-end;position:fixed;border-radius:5px;z-index:1}.ep-close-icon,.ep-minimize-icon{background:#e8e8e8;width:23px;height:23px;margin:3px 6px 0 0;z-index:999;color:#4a4a4a;transition:background .25s;text-align:center;cursor:pointer}.ep-minimize-icon{border-radius:50%;line-height:.3ch;font-size:22px;border:1px solid #ccc;font-family:sans-serif}.ep-close-icon{border-radius:50%;line-height:1.5ch;font-size:20px;border:1px solid #ccc;font-family:Montserrat}.ep-minimize-text-container{height:100%;text-align:center}.ep-minimize-tc-sticky{writing-mode:vertical-lr;justify-content:center}.ep-minimize-tc-sticky-left{transform:rotate(360deg)}.ep-minimize-tc-sticky-right{transform:rotate(180deg)}.ep-minimize-tc-polite{align-items:end;width:100%}.ep-minimize-tc-polite-left{justify-content:start}.ep-minimize-tc-polite-right{justify-content:end}.ep-minimize-text{background-color:#000;cursor:pointer;color:#fff;white-space:nowrap;overflow:hidden;max-width:380px;text-overflow:ellipsis}.ep-minimize-text-polite{margin-bottom:8px}.ep-minimize-text-polite-left{margin-left:25px;margin-right:8px}.ep-minimize-text-polite-right{margin-left:8px;margin-right:25px}.ep-sticky-sidebar{top:50%;z-index:9999;position:fixed}.ep-height,.ep-sticky-sidebar .ep-wrapper{height:100%}.ep-polite-slide-in{z-index:9999;position:fixed}.ep-inline,.ep-popup{position:relative;margin:auto}.ep-polite-slide-in .ep-wrapper{position:absolute}.ep-popup{z-index:9999}.ep-inline{overflow:unset;boxshadow:none}.ep-right{right:15px}.ep-left{left:15px}.ep-bottom{bottom:15px}@media only screen and (max-width:550px){.ep-iFrame,.ep-iFrameContainer{width:100%}.ep-popup{width:100%!important}.ep-right{right:0}.ep-left{left:0}.ep-bottom{bottom:0}}",e(me)}var me,X={},L={},V=!1,re={},P="STICKY_SIDEBAR",j="POLITE_SLIDE_IN",C="POPUP",F="INLINE",b={};function Ne({id:e,borderRadius:i,boxShadow:t,height:a,layout:n}){let s=document.createElement("div");return s.setAttribute("id",`${e}-div`),s.className="ep-iFrameContainer",s.style.cssText=`border-radius: ${i}px; box-shadow: ${t};`,s}function ze({id:e,iFrame:i,iFrameContainer:t}){let a=document.getElementById(`${e}-overlay`);a=document.createElement("div"),a.setAttribute("id",`${e}-overlay`),a.className="ep-overlay";let n=i.parentNode;return n?n.appendChild(a):document.body.appendChild(a),a.appendChild(t),a}function ke({id:e}){let i=document.createElement("div");return i.setAttribute("id",`${e}-header`),i.className="ep-header",i}function Ee({id:e,layout:i,width:t,triggerType:a,triggerValue:n,height:s,background:u}){let r,p=document.getElementById(`${e}-header`);if(re[e]){p&&(p.style.display=i.id===F?"none":"flex",p.style.width=window.matchMedia(`(max-width: ${t}px)`).matches?"100%":`${t}px`);let c=document.getElementById(`${e}-div`),l=document.getElementById(`${e}-overlay`),k=document.getElementById(`${e}`);i.id!==F&&(c.style.background=`#${u}`,Number(s)>=500?c.classList.add("ep-iFrameLarge"):(c.style.height=`${Number(s)}px`,c.classList.add("ep-overflow"))),a==="showAfter"&&Number(n)&&(!Object.keys(L).length||!L[e])&&(r=setTimeout(()=>{clearTimeout(r),i.id===C&&l&&(l.style.display="flex"),c.style.display="block",k.style.display="block",i.id!==F&&(Number(s)>=500?c.classList.add("ep-iFrameLarge"):(c.style.height=`${Number(s)}px`,c.classList.add("ep-overflow")))},Number(n*1e3)))}}function $e({id:e,layout:i}){let t=document.getElementById(`${e}-minimize-icon`);return i.id!==C&&(t=document.createElement("div"),t.setAttribute("id",`${e}-minimize-icon`),t.innerText="_",t.className="ep-minimize-icon"),t}function Se({id:e,layout:i}){let t=document.getElementById(`${e}-close-icon`);return(i.id===C||i.id!==C&&!i.allowMinimize)&&(t=document.createElement("div"),t.setAttribute("id",`${e}-close-icon`),t.innerText="x",t.className="ep-close-icon"),t}function Le({id:e,layout:i}){let t=document.createElement("div");return t.setAttribute("id",`${e}-minimize-text`),t.className="ep-minimize-text-container",t.style.display="none",i.id===P?(t.classList.add("ep-minimize-tc-sticky"),i.isLeftAligned?t.classList.add("ep-minimize-tc-sticky-left"):t.classList.add("ep-minimize-tc-sticky-right")):i.id===j&&(t.classList.add("ep-minimize-tc-polite"),i.isLeftAligned?t.classList.add("ep-minimize-tc-polite-left"):t.classList.add("ep-minimize-tc-polite-right")),t}function Me({id:e,formName:i,layout:t}){let a=document.createElement("span");return a.setAttribute("id",`${e}-minimize-text-span-`),a.innerText=t.minimizedTitle||i,a.className="ep-minimize-text",a.title=t.minimizedTitle||i,a.style.padding=t.id===P?"20px 10px":"10px 30px",t.id===j&&(a.classList.add("ep-minimize-text-polite"),t.isLeftAligned?a.classList.add("ep-minimize-text-polite-left"):a.classList.add("ep-minimize-text-polite-right")),a}function Te({iFrameContainer:e,wrapperDiv:i,height:t,layout:a,width:n}){e.classList.add("ep-sticky-sidebar"),a.isRightAligned?e.classList.add("ep-right"):e.classList.add("ep-left"),Number(t)>=500?e.style.marginTop="-250px":e.style.marginTop=`-${t/2}px`}function Ae({iFrameContainer:e,wrapperDiv:i,width:t,layout:a}){a.isRightAligned?e.classList.add("ep-right","ep-polite-slide-in","ep-bottom"):e.classList.add("ep-left","ep-polite-slide-in","ep-bottom")}function Ce({iFrameContainer:e,iFrame:i,width:t}){e.style.width=window.matchMedia(`(max-width: ${t}px)`).matches?"100%":`${t}px`,e.classList.add("ep-popup")}function _e({activationType:e,getIframeDetails:i,activationValue:t,deactivationType:a,deactivationValue:n,id:s}){e==="activateOnVisit"&&Number(t)?(V=i.visit>=Number(t),a==="leadCollected"&&i.leadCollected||V&&a==="deactivateAfter"&&i.visit-Number(t)>=Number(n)?L[s]=!0:V||(L[s]=!0)):a==="leadCollected"&&i.leadCollected?L[s]=!0:a==="deactivateAfter"&&(L[s]=i.visit>Number(n))}function Oe({triggerValue:e,activationType:i,iframeActivated:t,layout:a,overlay:n,header:s,iFrameContainer:u,iFrame:r,height:p,id:c}){window.addEventListener("scroll",()=>{(a.id===F||document.getElementById(`${c}-minimize-text`)?.style.display==="none")&&!L[c]&&Number(e)&&(i==="alwaysActivated"||t)&&(document.body.offsetHeight-window.innerHeight)*(Number(e)/100)<=Math.round(window.scrollY)&&(a.id===C&&(n.style.display="flex"),u.style.display="block",a.id!==F&&(s.style.display="flex",Number(p)>=500?u.classList.add("ep-iFrameLarge"):(u.style.height=`${Number(p)}px`,u.classList.add("ep-overflow"))),r.style.display="block")})}function Fe({iFrameContainer:e,iFrame:i,header:t,width:a,border:n,layout:s,id:u,height:r}){window.matchMedia(`(max-width: ${a}px)`).addListener(c=>{c.matches?(document.getElementById(`${u}-minimize-text`)?.style.display==="none"?(e.style.width="100%",i.style.width="100%"):s.id===j&&(e.style.width="50%"),t.style.width="100%"):(document.getElementById(`${u}-minimize-text`)?.style.display==="none"?e.style.width=`${a}px`:(e.style.marginTop=Number(r)>=500?"-250px":`-${r/2}px`,s.id===P&&(e.style.width="50px")),t.style.width=`${a}px`)})}function Be({closeIconEle:e,iFrameContainer:i,overlay:t,layout:a,id:n}){e.addEventListener("click",()=>{i.style.display="none",a.id===C&&(t.style.display="none"),L={...L,[n]:!0}})}function Re({minimizeIconEle:e,iFrame:i,header:t,height:a,wrapperDiv:n,iFrameContainer:s,minimizeTextEle:u,layout:r,width:p}){e.addEventListener("click",()=>{i.style.display="none",t.style.display="none",s.style.boxShadow="none",s.style.background="transparent",r.id===j&&(s.style.height="50px",s.style.width="50%"),r.id===P&&(Number(a)<=500&&(n.style.height="100%"),s.style.width="50px"),u.style.display="flex",u.firstChild.style.borderRadius=r.id===P?"0px 8px 8px 0px":"8px 8px 0px 0px",s.style.border="none"})}function Pe({minimizeTextEle:e,iFrame:i,iFrameContainer:t,header:a,styles:n,height:s,width:u,formId:r,shadow:p}){e.firstChild.addEventListener("click",()=>{i.style.display="block",t.style.boxShadow=p,e.style.display="none",window.matchMedia(`(max-width: ${u}px)`).matches?(t.style.width="100%",i.style.width="100%"):t.style.width=`${u}px`,window.matchMedia(`(max-width: ${u}px)`).matches&&(t.style.marginTop=`-${s/2}px`),t.style.height=Number(s)>=500?"500px":`${Number(s)}px`,t.style.background=`#${n[r]}`,a.style.display="flex"})}var pe=[];function je(e){if(!e)return;let i=new URL(e),t=new URLSearchParams(window.location.search);for(let[a,n]of t)i.searchParams.append(a,n);return i.href}function fe(e){return e?.src.includes("/form")||e?.src.includes("/survey")}function ue(e){if(!!e)return e.includes("'")&&!e.includes('"')?e=JSON.parse(e.replace(/'/g,'"')):e=JSON.parse(e),e}window.onmessage=function(e){if(e.data[0]==="iframeLoaded"&&ne(),e.data[0]=="fetch-query-params"){let n;e.data[4]&&(n=JSON.parse(e.data[4]),b={...b,[e.data[3]]:{background:n.background,width:n.width,height:n.ac_branding?n.height+155:n.height+35,border:n.border,boxShadow:be(n)}});var i=location.search.substring(1),t=Ie(`v3_first_session_event_${e.data[2]}`);X=xe(i);var a=new URL(document.location.href);t&&t.url_params&&Object.keys(t.url_params).forEach(function(u){u&&t.url_params[u]&&a.searchParams.append(u,t.url_params[u])});let s=document.querySelectorAll("iframe[id]");for(let u of s){let r=u,p=r.id,c=r?.dataset?.formId;if(!pe.includes(r.id)){fe(r)&&(window.location.search&&r.setAttribute("src",je(u.src)),pe.push(r.id),r.setAttribute("class","ep-iFrame"));break}if(!fe(r))return;let l=r?.dataset?.layout,k=r?.dataset?.triggerType,A=r?.dataset?.triggerValue,R=r?.dataset?.activationType,Z=r?.dataset?.activationValue,W=r?.dataset?.deactivationType,q=r?.dataset?.deactivationValue,ae=r?.dataset?.isSurvey,ee=b[c]?.border.border,D=b[c]?.border?.radius,te=b[c]?.boxShadow,ie=r?.dataset?.formName;if((!l&&r.src.includes("/form")||r?.src.includes("/survey"))&&r.contentWindow.postMessage(["query-params",X,a.toString(),t?.referrer?t?.referrer:document.referrer,p],"*"),!l)return;if(l&&(l=ue(l)),r.parentNode?.id===`${p}-wrapper`)return r.contentWindow.postMessage(["query-params",X,a.toString(),t?.referrer?t?.referrer:document.referrer,`${r?.dataset?.layoutIframeId}`],"*");let M=localStorage.getItem(`embedded_iframe_${p}`);M?(M=JSON.parse(M),M.visit=M.visit+1,localStorage.setItem(`embedded_iframe_${p}`,JSON.stringify(M))):(localStorage.setItem(`embedded_iframe_${p}`,JSON.stringify({id:p,visit:1,layout:l})),M={id:p,visit:1});let _,h,E,Q,d=b[c]?.height||r?.dataset?.height,y=Ne({id:p,borderRadius:D,boxShadow:te,height:d,layout:l}),o=Se({id:p,layout:l}),m=$e({id:p,layout:l}),g=document.createElement("div");if(g.setAttribute("id",`${p}-wrapper`),g.className="ep-wrapper",g.style.cssText=`border-radius: ${D}px`,l.id!==F){if(r.style.border="none",r.style.height=`${d}px`,r.style.position=l.id===j?"relative":"absolute",l.id===C)_=ze({id:p,iFrame:r,iFrameContainer:y});else{let x=r.parentNode;x?x.appendChild(y):document.body.appendChild(y)}g?.appendChild(r),y.appendChild(g),l.id===P&&Te({iFrameContainer:y,wrapperDiv:g,height:d,width:b[c]?.width,layout:l}),l.id===j&&Ae({iFrameContainer:y,wrapperDiv:g,width:b[c]?.width,layout:l}),l.id===C&&Ce({iFrameContainer:y,iFrame:r,width:b[c]?.width}),h=ke({id:p}),g.insertBefore(h,r),y.style.width=window.matchMedia(`(max-width: ${b[c]?.width}px)`).matches?"100%":`${b[c]?.width}px`,r.style.width=window.matchMedia(`(max-width: ${b[c]?.width}px)`).matches?"100%":`${b[c]?.width}px`,h.style.width=window.matchMedia(`(max-width: ${b[c]?.width}px)`).matches?"100%":`${b[c]?.width}px`,Fe({iFrameContainer:y,iFrame:r,header:h,width:b[c]?.width,border:ee,layout:l,id:p,height:d}),m&&(l.allowMinimize||(m.style.display="none"),h.appendChild(m)),o&&h.appendChild(o),E=Le({id:p,layout:l}),Q=Me({id:p,formName:ie,layout:l}),E.appendChild(Q),g.insertBefore(E,r)}else{let x=r.parentNode;x?x.appendChild(y):document.body.appendChild(y),g?.appendChild(r),y.appendChild(g)}_e({activationType:R,getIframeDetails:M,activationValue:Z,deactivationType:W,deactivationValue:q,id:p}),L[p]&&W!=="neverDeactivate"?(r.style.display="none",y.style.display="none",_&&(_.style.display="none")):k==="showOnScrolling"&&Number(A)?Oe({triggerValue:A,activationType:R,iframeActivated:V,layout:l,overlay:_,header:h,iFrameContainer:y,iFrame:r,height:d,id:p}):!Number(A)&&(R==="alwaysActivated"||V)&&(l.id!==F&&(Number(d)>=500?y.classList.add("ep-iFrameLarge"):(y.style.height=`${Number(d)}px`,y.classList.add("ep-overflow"))),l.id===C&&(_.style.display="flex"),y.style.display="block",r.style.display="block"),l.id!==F&&(o&&Be({closeIconEle:o,iFrameContainer:y,overlay:_,layout:l,id:p}),m&&Re({minimizeIconEle:m,iFrame:r,header:h,height:d,wrapperDiv:g,iFrameContainer:y,minimizeTextEle:E,layout:l,width:b[c]?.width}),E&&Pe({minimizeTextEle:E,iFrame:r,iFrameContainer:y,header:h,styles:b,height:d,width:b[c]?.width,formId:c,shadow:b[c]?.boxShadow})),r.contentWindow.postMessage(["query-params",X,a.toString(),t?.referrer?t?.referrer:document.referrer,`${r?.dataset?.layoutIframeId}`],"*"),s.forEach(x=>{if(x.src.includes("/form")){let O=x.dataset.formId;x.onload=function(){let B;B=ue(x?.dataset?.layout),B&&(re={...re,[x.dataset.layoutIframeId]:!0},Ee({id:x.dataset.layoutIframeId,layout:B,width:b[O]?.width,height:b[O]?.height||x.dataset.height,triggerValue:x.dataset.triggerValue,triggerType:x.dataset.triggerType,background:b[O]?.background}))}}})}}else if(e.data[0]=="fetch-sticky-contacts"){let n=c=>{let l;if(typeof localStorage<"u")try{l=localStorage.getItem(c)}catch{}return l},s=c=>{try{let l;return typeof localStorage!==void 0&&(l=localStorage.getItem("_ud")),l}catch{return null}},u=c=>{let l=c;return c&&typeof l=="string"&&(l=JSON.parse(l)),l},r=c=>{let l=s(c),k=u(l);if(k&&"location_id"in k){let{location_id:A}=k;return A===c?k:null}return null};document.querySelectorAll("iframe[id]").forEach(c=>{c?.contentWindow.postMessage(["sticky-contacts",r(e.data[1]),n(e.data[1])],"*")})}else if(e.data[0]=="set-sticky-contacts"&&typeof localStorage<"u")try{if(e.data[1]&&e.data[2])if(e.data[1]===`embedded_iframe_${e.data[2]}`){let n=localStorage.getItem(`embedded_iframe_${e.data[2]}`),s=2e3,u;if(n){n=JSON.parse(n),localStorage.setItem(`embedded_iframe_${e.data[2]}`,JSON.stringify({...n,leadCollected:!0}));let r=document.getElementById(`${e.data[2]}-overlay`),p=document.getElementById(`${e.data[2]}-div`);u=setTimeout(()=>{clearTimeout(u),r&&(r.style.display="none"),p&&(p.style.display="none",L[e.data[2]]=!0)},s)}}else localStorage.setItem(e.data[1],e.data[2]);e.data[3]&&e.data[4]&&localStorage.setItem(e.data[3],e.data[4])}catch(n){console.error(n)}};})();